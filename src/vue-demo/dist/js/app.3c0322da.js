(function(e){function t(t){for(var a,o,c=t[0],l=t[1],s=t[2],p=0,h=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/paradigm-aop/src/vue-demo/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"07cf":function(e,t,n){"use strict";n("8829")},"0bd3":function(e,t,n){},"379e":function(e,t,n){},4659:function(e,t,n){"use strict";n("0bd3")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,r,i,o,c=n("2b0e"),l=n("5c96"),s=n.n(l),u=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("el-menu",{attrs:{router:!0,mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"/"}},[e._v("Table列表")]),n("el-menu-item",{attrs:{index:"/list"}},[e._v("自定义列表")])],1),n("router-view")],1)}),p=[],h={name:"App"},f=h,d=(n("034f"),n("2877")),m=Object(d["a"])(f,u,p,!1,null,null,null),v=m.exports,b=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("h1",[e._v("Table列表")]),n("Search",{attrs:{schema:e.searchSchema},on:{search:e.handleSearch}}),n("FcTable",{attrs:{columns:e.columns,query:e.fetchData,url:"/mock/query/list"},model:{value:e.fcTable,callback:function(t){e.fcTable=t},expression:"fcTable"}})],1)},y=[],S=n("1da1"),k=(n("96cf"),n("99af"),n("fb6a"),n("7db0"),n("bc3a")),O=n.n(k),j=n("2638"),C=n.n(j),P=n("5530"),x=n("15fd"),_=n("3835"),F=(n("caad"),n("2532"),n("159b"),n("b64b"),n("d3b7"),n("4de4"),n("d81d"),n("ddb0"),n("4fad"),n("ac1f"),n("1276"),n("5319"),n("498a"),["key","type","props"]),w=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[null,void 0,NaN,""];if(n.includes(t))return t;var a={};return Object.keys(t).forEach((function(r){n.includes(t[r])||("[object Object]"===Object.prototype.toString.call(t[r])?a[r]=e(t[r]):"[object Array]"===Object.prototype.toString.call(t[r])?(a[r]=t[r].map((function(t){return"[object Object]"===Object.prototype.toString.call(t)?e(t):n.includes(t)?void 0:t})).filter(Boolean),0===a[r].length&&delete a[r]):a[r]=t[r])})),a},T=/[[]]/g,R={name:"FcSearch",components:{Form:l["Form"],FormItem:l["FormItem"],Button:l["Button"],Input:l["Input"],Select:l["Select"],Option:l["Option"],DatePicker:l["DatePicker"],Cascader:l["Cascader"]},model:{prop:"search",event:"change"},props:{schema:{required:!0,type:Object},initialValues:{type:Object,default:function(){return{}}}},data:function(){return{fields:[],values:{}}},watch:{schema:{handler:function(){this.onInitFormFields(),this.onInitFormValues()},immediate:!0,deep:!0},initialValues:{handler:function(){this.onInitFormValues()},immediate:!0,deep:!0}},created:function(){this.onEmitChange()},methods:{onEmitChange:function(){this.$emit("change",{values:this.values,initialValues:this.initialValues,onSearch:this.onSearch,onReset:this.onReset})},onInitFormFields:function(){for(var e in this.fields=[],this.schema){var t=this.schema[e],n=t.visible,a=void 0===n||n;a&&(t.key=e,this.fields.push(t))}},onInitFormValues:function(){var e=this;this.values={};var t=Object.entries(this.initialValues);this.fields.map((function(n){var a=n.key,r=n.default||e.initialValues[a];if(T.test(a)){var i=a.replace(T,"").split(",").map((function(t,n){return Array.isArray(r)?[t.trim(),r[n]]:[t.trim(),e.initialValues[t.trim()]]}));t.push([a,i.map((function(e){return e[1]})).filter(Boolean)])}else t.push([n.key,r])})),t.forEach((function(t){var n=Object(_["a"])(t,2),a=n[0],r=n[1];e.$set(e.values,a,r)})),this.onEmitChange()},onSubmitFormValues:function(){var e={};return Object.entries(this.values).map((function(t){var n=Object(_["a"])(t,2),a=n[0],r=n[1];T.test(a)?a.replace(T,"").split(",").map((function(t,n){e[t.trim()]=r[n]})):e[a]=r})),w(e)},onSearch:function(){this.onEmitChange(),this.$emit("search",this.onSubmitFormValues())},onReset:function(){this.onInitFormValues(),this.$emit("search",this.onSubmitFormValues())},renderControl:function(e){var t=this,n=this.$createElement,a=e.key,r=e.type,i=e.props,o=void 0===i?{}:i,c=Object(x["a"])(e,F),s={class:c.class,style:c.style,attrs:o,props:o,domProps:c.domProps,key:a};return"Input"===r?n(l["Input"],C()([{},s,{model:{value:t.values[a],callback:function(e){t.$set(t.values,a,e)}}}])):"Select"===r?n(l["Select"],C()([{},s,{model:{value:t.values[a],callback:function(e){t.$set(t.values,a,e)}}}]),[(o.options||[]).map((function(e){return n(l["Option"],{key:e.value,props:Object(P["a"])({},e),attrs:Object(P["a"])({},e)})}))]):"DatePicker"===r?n(l["DatePicker"],C()([{},s,{model:{value:t.values[a],callback:function(e){t.$set(t.values,a,e)}}}])):void 0}},render:function(){var e=this,t=arguments[0];return t(l["Form"],{class:"fc-search",model:this.values},[t("div",{class:"fc-search__form"},[this.fields.map((function(n){var a=n.key,r=n.title;return t(l["FormItem"],{key:a,attrs:{label:r}},[e.renderControl(n)])})),t(l["FormItem"],{attrs:{"data-role":"operation"}},[t(l["Button"],{attrs:{type:"primary"},on:{click:this.onSearch}},["查询"]),t(l["Button"],{on:{click:this.onReset}},["重置"])])])])}},I=R,E=(n("7094"),Object(d["a"])(I,a,r,!1,null,null,null)),z=E.exports,V=["list","total"],$={props:{url:{require:!0,type:String},query:{type:Function}},data:function(){return{data:[],params:{},loading:!1,pagination:{total:0,pageSize:10,currentPage:1}}},created:function(){this.onEmitChange()},methods:{onEmitChange:function(){this.$emit("change",{url:this.url,data:this.data,params:this.params,loading:this.loading,pagination:this.pagination,onSearch:this.onSearch,onRefresh:this.onRefresh})},onSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.onRefresh(e,Object(P["a"])(Object(P["a"])({},this.pagination),{},{currentPage:1}))},onRefresh:function(){var e=arguments,t=this;return Object(S["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:t.params,r=e.length>1&&void 0!==e[1]?e[1]:t.pagination,i=r.currentPage,o=r.pageSize,t.loading=!0,!t.query){n.next=11;break}return t.loading=!0,t.params=a,t.pagination.pageSize=o,t.pagination.currentPage=i,t.onEmitChange(),n.abrupt("return",t.query(t.url,Object(P["a"])(Object(P["a"])({},a),{},{pageIndex:i,pageSize:o})).then((function(e){var n=e.list,a=void 0===n?[]:n,r=e.total,i=void 0===r?0:r,o=Object(x["a"])(e,V);return t.data=a,t.pagination.total=i,Object(P["a"])({list:a,total:i},o)})).finally((function(){t.loading=!1,t.onEmitChange()})));case 11:case"end":return n.stop()}}),n)})))()},onCurrentChange:function(e){return this.pagination.currentPage=e,this.onRefresh()},onSizeChange:function(e){return this.pagination.pageSize=e,this.onRefresh()},onPrevClick:function(e){return this.pagination.currentPage=e,this.onRefresh()},onNextClick:function(e){return this.pagination.currentPage=e,this.onRefresh()}}},D=["visible"],M={name:"FcTable",components:{Table:l["Table"],TableColumn:l["TableColumn"],Pagination:l["Pagination"]},mixins:[$],model:{prop:"table",event:"change"},props:{columns:{type:Array,default:function(){return[]}},table:{type:Object,default:function(){return{}}}},render:function(e){var t=arguments[0];return t("div",{class:"fc-table"},[t("div",{class:"fc-table__list"},[t(l["Table"],{attrs:{stripe:!0,data:this.data},style:"width: 100%"},[this.columns.map((function(t,n){var a=t.visible,r=void 0===a||a,i=Object(x["a"])(t,D);if(r)return e(l["TableColumn"],{props:i,key:n})}))])]),this.pagination.total>0&&t("div",{class:"fc-table__pagination"},[e(l["Pagination"],{props:Object(P["a"])({background:!0,layout:"total,prev,pager,next"},this.pagination),on:{"prev-click":this.onPrevClick,"next-click":this.onNextClick,"size-change":this.onSizeChange,"current-change":this.onCurrentChange}})])])}},q=M,L=(n("4659"),Object(d["a"])(q,i,o,!1,null,"34a3a930",null)),A=L.exports,B=[{label:"男",value:1},{label:"女",value:2}],N={name:"Order",components:{Search:z,FcTable:A},data:function(){return{fcTable:{},partnerOptions:[]}},computed:{searchSchema:function(){return{saveTime:{required:!0,type:"DatePicker",title:"存入日期",props:{type:"daterange",valueFormat:"yyyy-MM-dd",startPlaceholder:"开始日期",endPlaceholder:"结束日期"}},createTime:{type:"DatePicker",title:"下单日期",props:{type:"daterange",valueFormat:"yyyy-MM-dd",startPlaceholder:"开始日期",endPlaceholder:"结束日期"}},orderCompleteStatus:{type:"Select",title:"订单是否完成",props:{placeholder:"请选择",options:[{label:"选项1",value:1},{label:"选项2",value:2},{label:"选项3",value:3}]}},edCode:{type:"Input",title:"柜机编码",props:{placeholder:"请输入"}}}},columns:function(){var e=this;return[{prop:"id",label:"订单号",align:"center"},{prop:"mobile",label:"手机号",align:"center",formatter:function(t,n,a){return e.isRoot?a:"".concat(a.slice(0,3),"****").concat(a.slice(-4))}},{prop:"name",label:"姓名",align:"center"},{prop:"sex",label:"性别",align:"center",formatter:function(e,t,n){var a=B.find((function(e){return e.value===n}));if(a)return a.label}}]}},mounted:function(){this.fcTable.onSearch()},methods:{handleSearch:function(e){this.fcTable.onSearch(e)},fetchData:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O.a.get(e,t);case 2:if(a=n.sent,r=a.data,i=r.success,o=r.data,!i){n.next=8;break}return n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()}}},J=N,G=Object(d["a"])(J,g,y,!1,null,null,null),H=G.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},[n("h1",[e._v("自定义列表")]),n("Search",{attrs:{schema:e.searchSchema},on:{search:e.handleSearch}}),n("FcList",{attrs:{columns:e.columns,query:e.fetchData,url:"/mock/query/list"},model:{value:e.fcList,callback:function(t){e.fcList=t},expression:"fcList"}})],1)},Q=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fc-list"},[n("div",{staticClass:"fc-list__content"},e._l(e.data,(function(t){return n("div",{key:t.id,staticClass:"item"},[n("div",{staticClass:"item__name"},[e._v(" "+e._s(t.name)+" ")]),n("div",{staticClass:"item__age"},[e._v(" "+e._s(t.age)+" 岁 ")])])})),0),n("div",{staticClass:"fc-list__pagination"},[n("Pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pagination.total,"page-size":e.pagination.pageSize,"current-page":e.pagination.pageIndex},on:{"prev-click":e.onPrevClick,"next-click":e.onNextClick,"size-change":e.onSizeChange,"current-change":e.onCurrentChange}})],1)])},W=[],X={name:"FcList",components:{Pagination:l["Pagination"]},mixins:[$],model:{prop:"list",event:"change"},props:{columns:{type:Array,default:function(){return[]}},table:{type:Object,default:function(){return{}}}},data:function(){return{pagination:{pageSize:20}}}},Y=X,Z=(n("07cf"),Object(d["a"])(Y,U,W,!1,null,"169969da",null)),ee=Z.exports,te=[{label:"男",value:1},{label:"女",value:2}],ne={name:"List",components:{Search:z,FcList:ee},data:function(){return{fcList:{}}},computed:{searchSchema:function(){return{saveTime:{required:!0,type:"DatePicker",title:"存入日期",props:{type:"daterange",valueFormat:"yyyy-MM-dd",startPlaceholder:"开始日期",endPlaceholder:"结束日期"}},createTime:{type:"DatePicker",title:"下单日期",props:{type:"daterange",valueFormat:"yyyy-MM-dd",startPlaceholder:"开始日期",endPlaceholder:"结束日期"}},orderCompleteStatus:{type:"Select",title:"订单是否完成",props:{placeholder:"请选择",options:[{label:"选项1",value:1},{label:"选项2",value:2},{label:"选项3",value:3}]}},edCode:{type:"Input",title:"柜机编码",props:{placeholder:"请输入"}}}},columns:function(){var e=this;return[{prop:"id",label:"订单号",align:"center"},{prop:"mobile",label:"手机号",align:"center",formatter:function(t,n,a){return e.isRoot?a:"".concat(a.slice(0,3),"****").concat(a.slice(-4))}},{prop:"name",label:"姓名",align:"center"},{prop:"sex",label:"性别",align:"center",formatter:function(e,t,n){var a=te.find((function(e){return e.value===n}));if(a)return a.label}}]}},mounted:function(){this.fcList.onSearch()},methods:{handleSearch:function(e){this.fcList.onSearch(e)},fetchData:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O.a.get(e,{params:t});case 2:if(a=n.sent,r=a.data,i=r.success,o=r.data,!i){n.next=8;break}return n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()}}},ae=ne,re=Object(d["a"])(ae,K,Q,!1,null,null,null),ie=re.exports;c["default"].use(b["a"]);var oe=[{path:"/",name:"table",component:H},{path:"/List",name:"list",component:ie}],ce=new b["a"]({routes:oe}),le=ce;c["default"].use(s.a),c["default"].config.productionTip=!1,new c["default"]({router:le,render:function(e){return e(v)}}).$mount("#app")},7094:function(e,t,n){"use strict";n("379e")},"85ec":function(e,t,n){},8829:function(e,t,n){}});
//# sourceMappingURL=app.3c0322da.js.map